<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¹ãƒãƒ¼ãƒœãƒ¼ãƒ‰æ°—è±¡æƒ…å ±ã‚¢ãƒ—ãƒª</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Noto+Sans+JP:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(76, 175, 80, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .header {
            background: rgba(15, 32, 39, 0.9);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(76, 175, 80, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .header h1 {
            font-family: 'Orbitron', sans-serif;
            color: #4CAF50;
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 900;
            letter-spacing: 2px;
            text-shadow: 
                0 0 20px rgba(76, 175, 80, 0.5),
                0 0 40px rgba(76, 175, 80, 0.3);
            position: relative;
            z-index: 1;
        }

        .header p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1em;
            position: relative;
            z-index: 1;
        }

        .datetime-display {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            font-family: 'Orbitron', monospace;
            position: relative;
            z-index: 1;
        }

        .datetime-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .datetime-label {
            font-size: 0.75em;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .datetime-value {
            font-size: 1.3em;
            color: #4CAF50;
            font-weight: 700;
        }

        .search-section {
            background: rgba(15, 32, 39, 0.9);
            backdrop-filter: blur(20px);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .api-notice {
            background: linear-gradient(135deg, rgba(255, 152, 0, 0.2), rgba(255, 193, 7, 0.2));
            border: 1px solid rgba(255, 193, 7, 0.5);
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            color: #FFC107;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .api-notice a {
            color: #4CAF50;
            text-decoration: none;
            font-weight: 700;
        }

        .api-notice a:hover {
            text-decoration: underline;
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .search-box input {
            flex: 1;
            padding: 18px 20px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(76, 175, 80, 0.3);
            border-radius: 12px;
            font-size: 16px;
            color: white;
            font-family: 'Noto Sans JP', sans-serif;
            transition: all 0.3s ease;
        }

        .search-box input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .search-box input:focus {
            outline: none;
            border-color: #4CAF50;
            background: rgba(0, 0, 0, 0.5);
            box-shadow: 0 0 20px rgba(76, 175, 80, 0.3);
        }

        .search-box button {
            padding: 18px 40px;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .search-box button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(76, 175, 80, 0.4);
        }

        .search-box button:active {
            transform: translateY(0);
        }

        .preset-resorts {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .preset-btn {
            padding: 12px 24px;
            background: rgba(76, 175, 80, 0.1);
            border: 1px solid rgba(76, 175, 80, 0.3);
            border-radius: 10px;
            color: rgba(255, 255, 255, 0.9);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Noto Sans JP', sans-serif;
        }

        .preset-btn:hover {
            background: rgba(76, 175, 80, 0.3);
            border-color: #4CAF50;
            transform: translateY(-2px);
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab {
            flex: 1;
            padding: 18px;
            background: rgba(15, 32, 39, 0.7);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 500;
        }

        .tab.active {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border-color: #4CAF50;
            box-shadow: 0 5px 20px rgba(76, 175, 80, 0.4);
            transform: translateY(-2px);
        }

        .tab:hover:not(.active) {
            background: rgba(76, 175, 80, 0.2);
            border-color: rgba(76, 175, 80, 0.5);
        }

        .content-section {
            background: rgba(15, 32, 39, 0.9);
            backdrop-filter: blur(20px);
            padding: 35px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }

        .content-section h2 {
            color: #4CAF50;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8em;
            margin-bottom: 25px;
            letter-spacing: 1px;
        }

        .weather-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .weather-card {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(69, 160, 73, 0.1));
            padding: 28px;
            border-radius: 16px;
            border: 1px solid rgba(76, 175, 80, 0.3);
            color: white;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .weather-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at top right, rgba(76, 175, 80, 0.1), transparent 60%);
            pointer-events: none;
        }

        .weather-card:hover {
            transform: translateY(-5px);
            box-shadow: 
                0 15px 40px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(76, 175, 80, 0.2);
            border-color: #4CAF50;
        }

        .weather-card h3 {
            font-size: 1.4em;
            margin-bottom: 18px;
            border-bottom: 2px solid rgba(76, 175, 80, 0.3);
            padding-bottom: 12px;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
            position: relative;
            z-index: 1;
        }

        .weather-info {
            display: flex;
            flex-direction: column;
            gap: 12px;
            position: relative;
            z-index: 1;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            font-weight: 400;
            opacity: 0.8;
            font-size: 0.95em;
        }

        .info-value {
            font-size: 1.3em;
            font-weight: 700;
            font-family: 'Orbitron', monospace;
            color: #4CAF50;
        }

        .snow-icon {
            font-size: 3.5em;
            text-align: center;
            margin: 20px 0;
            position: relative;
            z-index: 1;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .forecast-timeline {
            display: flex;
            overflow-x: auto;
            gap: 18px;
            padding: 25px 0;
            scrollbar-width: thin;
            scrollbar-color: #4CAF50 rgba(0, 0, 0, 0.3);
        }

        .forecast-timeline::-webkit-scrollbar {
            height: 8px;
        }

        .forecast-timeline::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .forecast-timeline::-webkit-scrollbar-thumb {
            background: #4CAF50;
            border-radius: 10px;
        }

        .timeline-item {
            min-width: 140px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(76, 175, 80, 0.2);
            transition: all 0.3s ease;
        }

        .timeline-item:hover {
            transform: scale(1.05);
            border-color: #4CAF50;
            box-shadow: 0 5px 20px rgba(76, 175, 80, 0.3);
        }

        .timeline-date {
            font-weight: 700;
            color: #4CAF50;
            margin-bottom: 12px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            letter-spacing: 1px;
        }

        .timeline-temp {
            font-size: 1.6em;
            margin: 12px 0;
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            color: white;
        }

        .timeline-snow {
            color: #4CAF50;
            font-weight: 700;
            font-size: 1.1em;
        }

        .map-container {
            width: 100%;
            min-height: 500px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            border: 1px solid rgba(76, 175, 80, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.2em;
            padding: 30px;
        }

        .wind-indicator {
            display: inline-flex;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(76, 175, 80, 0.2);
            align-items: center;
            justify-content: center;
            font-size: 1.8em;
            border: 2px solid rgba(76, 175, 80, 0.3);
            position: relative;
            z-index: 1;
        }

        .alert-box {
            background: linear-gradient(135deg, rgba(255, 152, 0, 0.3), rgba(255, 193, 7, 0.2));
            border: 1px solid rgba(255, 193, 7, 0.5);
            color: white;
            padding: 18px 24px;
            border-radius: 12px;
            margin-bottom: 25px;
            font-size: 1.05em;
            backdrop-filter: blur(10px);
        }

        .loading {
            text-align: center;
            padding: 50px;
            font-size: 1.3em;
            color: #4CAF50;
            font-family: 'Orbitron', sans-serif;
        }

        .loading::after {
            content: '...';
            animation: dots 1.5s steps(4, end) infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }

        .data-source {
            margin-top: 25px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            font-size: 0.85em;
            color: rgba(255, 255, 255, 0.6);
            text-align: center;
        }

        .realtime-badge {
            display: inline-block;
            padding: 6px 14px;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            border-radius: 20px;
            font-size: 0.75em;
            font-weight: 700;
            color: white;
            margin-left: 10px;
            animation: pulse 2s ease-in-out infinite;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .weather-grid {
                grid-template-columns: 1fr;
            }

            .tabs {
                flex-wrap: wrap;
            }

            .tab {
                flex: 1 1 calc(50% - 5px);
            }

            .datetime-display {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ‚ SNOW TRACKER</h1>
            <p>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ°—è±¡æƒ…å ±ã§ãƒ™ã‚¹ãƒˆã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã‚’è¦‹é€ƒã•ãªã„</p>
            <div class="datetime-display" id="datetimeDisplay">
                <div class="datetime-item">
                    <div class="datetime-label">æ—¥ä»˜</div>
                    <div class="datetime-value" id="currentDate">-</div>
                </div>
                <div class="datetime-item">
                    <div class="datetime-label">æ™‚åˆ»</div>
                    <div class="datetime-value" id="currentTime">-</div>
                </div>
                <div class="datetime-item">
                    <div class="datetime-label">æ›œæ—¥</div>
                    <div class="datetime-value" id="currentDay">-</div>
                </div>
            </div>
        </div>

        <div class="search-section">
            <div class="api-notice">
                âš™ï¸ <strong>APIã‚­ãƒ¼è¨­å®š:</strong> ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã«ã¯ã€<a href="https://openweathermap.org/api" target="_blank">OpenWeatherMap API</a>ã®ç„¡æ–™ã‚­ãƒ¼ã‚’å–å¾—ã—ã€ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã«è¨­å®šã—ã¦ãã ã•ã„ã€‚
            </div>
            <div class="search-box">
                <input type="text" id="locationInput" placeholder="ã‚¹ã‚­ãƒ¼å ´åã‚„åœ°åŸŸã‚’å…¥åŠ›ï¼ˆä¾‹ï¼šHakuba, Nisekoï¼‰">
                <button onclick="searchLocation()">æ¤œç´¢</button>
            </div>
            <div class="preset-resorts">
                <button class="preset-btn" onclick="selectPreset('Hakuba')">ç™½é¦¬ (Hakuba)</button>
                <button class="preset-btn" onclick="selectPreset('Niseko')">ãƒ‹ã‚»ã‚³ (Niseko)</button>
                <button class="preset-btn" onclick="selectPreset('Shiga Kogen')">å¿—è³€é«˜åŸ</button>
                <button class="preset-btn" onclick="selectPreset('Nozawa Onsen')">é‡æ²¢æ¸©æ³‰</button>
                <button class="preset-btn" onclick="selectPreset('Myoko')">å¦™é«˜ (Myoko)</button>
                <button class="preset-btn" onclick="selectPreset('Zao')">è”µç‹ (Zao)</button>
            </div>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="switchTab('current')">ç¾åœ¨ã®å¤©æ°—<span class="realtime-badge">LIVE</span></div>
            <div class="tab" onclick="switchTab('forecast')">5æ—¥é–“äºˆå ±</div>
            <div class="tab" onclick="switchTab('wind')">é¢¨ã®çŠ¶æ³</div>
            <div class="tab" onclick="switchTab('map')">è©³ç´°æƒ…å ±</div>
        </div>

        <div id="currentTab" class="content-section">
            <h2>ç¾åœ¨ã®å¤©æ°—çŠ¶æ³<span class="realtime-badge">REALTIME</span></h2>
            <div id="currentWeather" class="loading">åœ°åŸŸã‚’é¸æŠã—ã¦ãã ã•ã„</div>
        </div>

        <div id="forecastTab" class="content-section" style="display:none;">
            <h2>5æ—¥é–“ã®å¤©æ°—äºˆå ±<span class="realtime-badge">REALTIME</span></h2>
            <div id="forecastData" class="loading">åœ°åŸŸã‚’é¸æŠã—ã¦ãã ã•ã„</div>
        </div>

        <div id="windTab" class="content-section" style="display:none;">
            <h2>é¢¨é€Ÿãƒ»é¢¨å‘ãƒ‡ãƒ¼ã‚¿<span class="realtime-badge">REALTIME</span></h2>
            <div id="windData" class="loading">åœ°åŸŸã‚’é¸æŠã—ã¦ãã ã•ã„</div>
        </div>

        <div id="mapTab" class="content-section" style="display:none;">
            <h2>è©³ç´°æ°—è±¡æƒ…å ±<span class="realtime-badge">REALTIME</span></h2>
            <div id="mapData" class="map-container">åœ°åŸŸã‚’é¸æŠã—ã¦ãã ã•ã„</div>
        </div>
    </div>

    <script>
        // OpenWeatherMap APIã‚­ãƒ¼
        const API_KEY = '08525d38267c963d7d90a42c27b6b3bc';
        
        let currentLocation = null;
        let activeTab = 'current';
        let locationCoords = null;

        // æ—¥æ™‚è¡¨ç¤ºã®æ›´æ–°
        function updateDateTime() {
            const now = new Date();
            const days = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
            
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const date = String(now.getDate()).padStart(2, '0');
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const day = days[now.getDay()];
            
            document.getElementById('currentDate').textContent = `${year}/${month}/${date}`;
            document.getElementById('currentTime').textContent = `${hours}:${minutes}:${seconds}`;
            document.getElementById('currentDay').textContent = `${day}æ›œæ—¥`;
        }

        // 1ç§’ã”ã¨ã«æ—¥æ™‚ã‚’æ›´æ–°
        setInterval(updateDateTime, 1000);
        updateDateTime();

        function switchTab(tabName) {
            // ã‚¿ãƒ–ã®åˆ‡ã‚Šæ›¿ãˆ
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆ‡ã‚Šæ›¿ãˆ
            document.getElementById('currentTab').style.display = 'none';
            document.getElementById('forecastTab').style.display = 'none';
            document.getElementById('windTab').style.display = 'none';
            document.getElementById('mapTab').style.display = 'none';

            document.getElementById(tabName + 'Tab').style.display = 'block';
            activeTab = tabName;
        }

        function selectPreset(location) {
            document.getElementById('locationInput').value = location;
            searchLocation();
        }

        async function searchLocation() {
            const location = document.getElementById('locationInput').value.trim();
            if (!location) {
                alert('åœ°åŸŸã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            // APIã‚­ãƒ¼ã®ãƒã‚§ãƒƒã‚¯
            if (API_KEY === 'YOUR_API_KEY_HERE' || !API_KEY) {
                alert('APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\n\nhttps://openweathermap.org/api ã§ç„¡æ–™ã®APIã‚­ãƒ¼ã‚’å–å¾—ã—ã€\nã‚³ãƒ¼ãƒ‰å†…ã® API_KEY = "YOUR_API_KEY_HERE" ã®éƒ¨åˆ†ã‚’\nã‚ãªãŸã®APIã‚­ãƒ¼ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚');
                return;
            }

            currentLocation = location;
            
            // ä½ç½®æƒ…å ±ã‚’å–å¾—
            try {
                const geoResponse = await fetch(
                    `https://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(location)},JP&limit=1&appid=${API_KEY}`
                );
                const geoData = await geoResponse.json();
                
                if (geoData.length === 0) {
                    alert('æŒ‡å®šã•ã‚ŒãŸåœ°åŸŸãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚è‹±èªè¡¨è¨˜ï¼ˆä¾‹: Hakuba, Nisekoï¼‰ã§è©¦ã—ã¦ãã ã•ã„ã€‚');
                    return;
                }
                
                locationCoords = {
                    lat: geoData[0].lat,
                    lon: geoData[0].lon,
                    name: geoData[0].local_names?.ja || geoData[0].name
                };
                
                // å„ã‚¿ãƒ–ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°
                updateCurrentWeather();
                updateForecast();
                updateWindData();
                updateMap();
            } catch (error) {
                console.error('ä½ç½®æƒ…å ±ã®å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
                alert('ä½ç½®æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
            }
        }

        async function updateCurrentWeather() {
            const container = document.getElementById('currentWeather');
            container.innerHTML = '<div class="loading">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­</div>';

            try {
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/weather?lat=${locationCoords.lat}&lon=${locationCoords.lon}&appid=${API_KEY}&units=metric&lang=ja`
                );
                const data = await response.json();
                
                if (response.ok) {
                    const temp = Math.round(data.main.temp);
                    const feelsLike = Math.round(data.main.feels_like);
                    const humidity = data.main.humidity;
                    const pressure = data.main.pressure;
                    const windSpeed = Math.round(data.wind.speed * 10) / 10;
                    const windDeg = data.wind.deg;
                    const clouds = data.clouds.all;
                    const visibility = Math.round(data.visibility / 1000);
                    const description = data.weather[0].description;
                    const icon = data.weather[0].icon;
                    
                    const windDirection = getWindDirection(windDeg);
                    const weatherIcon = getWeatherIcon(icon);
                    const snowCondition = getSnowCondition(temp, humidity);
                    const updateTime = new Date().toLocaleTimeString('ja-JP');
                    
                    container.innerHTML = `
                        <div class="weather-grid">
                            <div class="weather-card">
                                <h3>${locationCoords.name}</h3>
                                <div class="snow-icon">${weatherIcon}</div>
                                <div class="weather-info">
                                    <div class="info-row">
                                        <span class="info-label">æ°—æ¸©</span>
                                        <span class="info-value">${temp}Â°C</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">ä½“æ„Ÿæ¸©åº¦</span>
                                        <span class="info-value">${feelsLike}Â°C</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">å¤©å€™</span>
                                        <span class="info-value">${description}</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">æ¹¿åº¦</span>
                                        <span class="info-value">${humidity}%</span>
                                    </div>
                                </div>
                            </div>
                            <div class="weather-card">
                                <h3>é›ªè³ªäºˆæ¸¬</h3>
                                <div class="snow-icon">â›·ï¸</div>
                                <div class="weather-info">
                                    <div class="info-row">
                                        <span class="info-label">é›ªè³ªã‚¿ã‚¤ãƒ—</span>
                                        <span class="info-value">${snowCondition.type}</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">ã‚³ãƒ³ãƒ‡ã‚£ã‚·ãƒ§ãƒ³</span>
                                        <span class="info-value">${snowCondition.rating}</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">è¦–ç•Œ</span>
                                        <span class="info-value">${visibility}km</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">é›²é‡</span>
                                        <span class="info-value">${clouds}%</span>
                                    </div>
                                </div>
                            </div>
                            <div class="weather-card">
                                <h3>é¢¨ã®çŠ¶æ³</h3>
                                <div class="snow-icon">ğŸŒ¬ï¸</div>
                                <div class="weather-info">
                                    <div class="info-row">
                                        <span class="info-label">é¢¨é€Ÿ</span>
                                        <span class="info-value">${windSpeed} m/s</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">é¢¨å‘</span>
                                        <span class="info-value">${windDirection}</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">æ°—åœ§</span>
                                        <span class="info-value">${pressure} hPa</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">ãƒªãƒ•ãƒˆé‹è¡Œ</span>
                                        <span class="info-value">${windSpeed < 10 ? 'âœ“ è‰¯å¥½' : 'âš  æ³¨æ„'}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="data-source">
                            ğŸ“¡ ãƒ‡ãƒ¼ã‚¿æ›´æ–°æ™‚åˆ»: ${updateTime} | ãƒ‡ãƒ¼ã‚¿æä¾›: OpenWeatherMap API
                        </div>
                    `;
                } else {
                    throw new Error(data.message || 'ãƒ‡ãƒ¼ã‚¿å–å¾—å¤±æ•—');
                }
            } catch (error) {
                console.error('å¤©æ°—ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
                container.innerHTML = '<div class="alert-box">âŒ ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚APIã‚­ãƒ¼ã‚’ç¢ºèªã™ã‚‹ã‹ã€ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚</div>';
            }
        }

        async function updateForecast() {
            const container = document.getElementById('forecastData');
            container.innerHTML = '<div class="loading">äºˆå ±ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­</div>';

            try {
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/forecast?lat=${locationCoords.lat}&lon=${locationCoords.lon}&appid=${API_KEY}&units=metric&lang=ja`
                );
                const data = await response.json();
                
                if (response.ok) {
                    // 1æ—¥1å›ã®ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡ºï¼ˆæ˜¼12æ™‚é ƒã®ãƒ‡ãƒ¼ã‚¿ï¼‰
                    const dailyData = [];
                    const processed = new Set();
                    
                    data.list.forEach(item => {
                        const date = new Date(item.dt * 1000);
                        const dateKey = date.toLocaleDateString('ja-JP');
                        
                        if (!processed.has(dateKey) && date.getHours() >= 12 && date.getHours() <= 15) {
                            processed.add(dateKey);
                            dailyData.push(item);
                        }
                    });
                    
                    // æœ€å¤§5æ—¥åˆ†
                    const forecasts = dailyData.slice(0, 5).map(item => {
                        const date = new Date(item.dt * 1000);
                        const dayName = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'][date.getDay()];
                        const dateStr = `${date.getMonth() + 1}/${date.getDate()}(${dayName})`;
                        const temp = Math.round(item.main.temp);
                        const icon = getWeatherIcon(item.weather[0].icon);
                        const windSpeed = Math.round(item.wind.speed * 10) / 10;
                        const snow = item.snow ? Math.round(item.snow['3h'] * 10) : 0;
                        const rain = item.rain ? Math.round(item.rain['3h'] * 10) : 0;
                        
                        return `
                            <div class="timeline-item">
                                <div class="timeline-date">${dateStr}</div>
                                <div style="font-size: 2.5em;">${icon}</div>
                                <div class="timeline-temp">${temp}Â°C</div>
                                ${snow > 0 ? `<div class="timeline-snow">â„ï¸ é™é›ª: ${snow}mm</div>` : ''}
                                ${rain > 0 && snow === 0 ? `<div style="color: #2196F3;">ğŸ’§ é™é›¨: ${rain}mm</div>` : ''}
                                <div style="margin-top: 10px; color: rgba(255,255,255,0.7);">é¢¨: ${windSpeed}m/s</div>
                            </div>
                        `;
                    }).join('');
                    
                    const updateTime = new Date().toLocaleTimeString('ja-JP');
                    const hasSnow = dailyData.some(item => item.snow && item.snow['3h'] > 0);
                    
                    container.innerHTML = `
                        ${hasSnow ? `
                        <div class="alert-box">
                            â„ï¸ <strong>${locationCoords.name}ã‚¨ãƒªã‚¢:</strong> é™é›ªã®äºˆå ±ãŒã‚ã‚Šã¾ã™ï¼ãƒ‘ã‚¦ãƒ€ãƒ¼ç‹™ã„ã®ãƒãƒ£ãƒ³ã‚¹ï¼
                        </div>` : ''}
                        <div class="forecast-timeline">
                            ${forecasts}
                        </div>
                        <div style="margin-top: 30px;">
                            <h3 style="color: #4CAF50; font-family: 'Orbitron', sans-serif; margin-bottom: 15px;">äºˆå ±ã‚µãƒãƒªãƒ¼</h3>
                            <div class="weather-info" style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 10px;">
                                <div class="info-row">
                                    <span class="info-label">äºˆå ±æœŸé–“</span>
                                    <span class="info-value" style="font-size: 1.1em;">5æ—¥é–“</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">ãƒ‡ãƒ¼ã‚¿æ›´æ–°</span>
                                    <span class="info-value" style="font-size: 1.1em;">${updateTime}</span>
                                </div>
                            </div>
                        </div>
                        <div class="data-source">
                            ğŸ“¡ ãƒ‡ãƒ¼ã‚¿æä¾›: OpenWeatherMap API (3æ™‚é–“ã”ã¨ã®äºˆå ±ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æŠ½å‡º)
                        </div>
                    `;
                } else {
                    throw new Error(data.message || 'ãƒ‡ãƒ¼ã‚¿å–å¾—å¤±æ•—');
                }
            } catch (error) {
                console.error('äºˆå ±ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
                container.innerHTML = '<div class="alert-box">âŒ äºˆå ±ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</div>';
            }
        }

        async function updateWindData() {
            const container = document.getElementById('windData');
            container.innerHTML = '<div class="loading">é¢¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­</div>';

            try {
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/weather?lat=${locationCoords.lat}&lon=${locationCoords.lon}&appid=${API_KEY}&units=metric&lang=ja`
                );
                const data = await response.json();
                
                if (response.ok) {
                    const windSpeed = Math.round(data.wind.speed * 10) / 10;
                    const windGust = data.wind.gust ? Math.round(data.wind.gust * 10) / 10 : windSpeed * 1.5;
                    const windDeg = data.wind.deg;
                    const temp = Math.round(data.main.temp);
                    
                    const windDirection = getWindDirection(windDeg);
                    
                    // æ¨™é«˜åˆ¥ã®æ¨å®šï¼ˆå®Ÿéš›ã®APIã§ã¯å–å¾—ã§ããªã„ãŸã‚æ¨å®šå€¤ï¼‰
                    const summitWind = Math.round(windSpeed * 1.8 * 10) / 10;
                    const midWind = Math.round(windSpeed * 1.3 * 10) / 10;
                    const baseWind = windSpeed;
                    
                    const summitTemp = temp - 10;
                    const midTemp = temp - 5;
                    const baseTemp = temp;
                    
                    const updateTime = new Date().toLocaleTimeString('ja-JP');
                    
                    container.innerHTML = `
                        <div class="weather-grid">
                            <div class="weather-card">
                                <h3>å±±é ‚ã‚¨ãƒªã‚¢ (æ¨å®š)</h3>
                                <div class="wind-indicator">ğŸ’¨</div>
                                <div class="weather-info">
                                    <div class="info-row">
                                        <span class="info-label">é¢¨é€Ÿ</span>
                                        <span class="info-value">${summitWind} m/s</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">é¢¨å‘</span>
                                        <span class="info-value">${windDirection}</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">æ°—æ¸©</span>
                                        <span class="info-value">${summitTemp}Â°C</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">ãƒªãƒ•ãƒˆ</span>
                                        <span class="info-value" style="color: ${summitWind > 15 ? '#ff9800' : '#4CAF50'};">
                                            ${summitWind > 15 ? 'âš  å¼·é¢¨æ³¨æ„' : 'âœ“ é‹è¡Œå¯'}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="weather-card">
                                <h3>ä¸­è…¹ã‚¨ãƒªã‚¢ (æ¨å®š)</h3>
                                <div class="wind-indicator">ğŸŒ¬ï¸</div>
                                <div class="weather-info">
                                    <div class="info-row">
                                        <span class="info-label">é¢¨é€Ÿ</span>
                                        <span class="info-value">${midWind} m/s</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">é¢¨å‘</span>
                                        <span class="info-value">${windDirection}</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">æ°—æ¸©</span>
                                        <span class="info-value">${midTemp}Â°C</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">æ»‘èµ°</span>
                                        <span class="info-value" style="color: #4CAF50;">âœ“ å¿«é©</span>
                                    </div>
                                </div>
                            </div>
                            <div class="weather-card">
                                <h3>ãƒ™ãƒ¼ã‚¹ã‚¨ãƒªã‚¢ (å®Ÿæ¸¬)</h3>
                                <div class="wind-indicator">ğŸƒ</div>
                                <div class="weather-info">
                                    <div class="info-row">
                                        <span class="info-label">é¢¨é€Ÿ</span>
                                        <span class="info-value">${baseWind} m/s</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">é¢¨å‘</span>
                                        <span class="info-value">${windDirection}</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">æ°—æ¸©</span>
                                        <span class="info-value">${baseTemp}Â°C</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">æœ€å¤§ç¬é–“é¢¨é€Ÿ</span>
                                        <span class="info-value">${windGust} m/s</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="margin-top: 30px; padding: 20px; background: rgba(0,0,0,0.2); border-radius: 10px;">
                            <h3 style="color: #4CAF50; margin-bottom: 10px;">é¢¨ã®è§£æ</h3>
                            <p style="color: rgba(255,255,255,0.8); line-height: 1.6;">
                                ç¾åœ¨ã®é¢¨é€Ÿã¯${windSpeed}m/sã§ã€${windDirection}ã®é¢¨ãŒå¹ã„ã¦ã„ã¾ã™ã€‚
                                ${windSpeed > 10 ? 'å¼·é¢¨ã®ãŸã‚ã€å±±é ‚ä»˜è¿‘ã§ã¯æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚' : 'æ¯”è¼ƒçš„ç©ã‚„ã‹ãªé¢¨ã®çŠ¶æ³ã§ã™ã€‚'}
                                ${windSpeed > 15 ? 'ãƒªãƒ•ãƒˆã®é‹ä¼‘ã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚' : ''}
                            </p>
                        </div>
                        <div class="data-source">
                            ğŸ“¡ ãƒ‡ãƒ¼ã‚¿æ›´æ–°æ™‚åˆ»: ${updateTime} | ãƒ™ãƒ¼ã‚¹ã‚¨ãƒªã‚¢ã¯å®Ÿæ¸¬å€¤ã€å±±é ‚ãƒ»ä¸­è…¹ã¯æ¨å®šå€¤
                        </div>
                    `;
                } else {
                    throw new Error(data.message || 'ãƒ‡ãƒ¼ã‚¿å–å¾—å¤±æ•—');
                }
            } catch (error) {
                console.error('é¢¨ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
                container.innerHTML = '<div class="alert-box">âŒ é¢¨ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</div>';
            }
        }

        async function updateMap() {
            const container = document.getElementById('mapData');
            container.innerHTML = '<div class="loading">è©³ç´°æƒ…å ±ã‚’å–å¾—ä¸­</div>';

            try {
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/weather?lat=${locationCoords.lat}&lon=${locationCoords.lon}&appid=${API_KEY}&units=metric&lang=ja`
                );
                const data = await response.json();
                
                if (response.ok) {
                    const sunrise = new Date(data.sys.sunrise * 1000).toLocaleTimeString('ja-JP', {hour: '2-digit', minute: '2-digit'});
                    const sunset = new Date(data.sys.sunset * 1000).toLocaleTimeString('ja-JP', {hour: '2-digit', minute: '2-digit'});
                    const pressure = data.main.pressure;
                    const humidity = data.main.humidity;
                    const updateTime = new Date().toLocaleTimeString('ja-JP');
                    
                    container.innerHTML = `
                        <div style="text-align: center; padding: 40px;">
                            <div style="font-size: 5em; margin-bottom: 20px;">ğŸ—¾</div>
                            <h3 style="margin-bottom: 30px; color: #4CAF50; font-family: 'Orbitron', sans-serif; font-size: 1.8em;">
                                ${locationCoords.name} è©³ç´°æ°—è±¡æƒ…å ±
                            </h3>
                            <div style="background: rgba(0,0,0,0.3); padding: 35px; border-radius: 15px; max-width: 700px; margin: 0 auto; text-align: left; border: 1px solid rgba(76, 175, 80, 0.3);">
                                <div style="margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                    <strong style="color: #4CAF50; font-size: 1.1em;">ğŸ“ ä½ç½®æƒ…å ±</strong><br>
                                    <span style="color: rgba(255,255,255,0.8);">ç·¯åº¦: ${locationCoords.lat.toFixed(4)}Â° / çµŒåº¦: ${locationCoords.lon.toFixed(4)}Â°</span>
                                </div>
                                <div style="margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                    <strong style="color: #4CAF50; font-size: 1.1em;">ğŸŒ… æ—¥ã®å‡ºãƒ»æ—¥ã®å…¥ã‚Š</strong><br>
                                    <span style="color: rgba(255,255,255,0.8);">æ—¥ã®å‡º: ${sunrise} / æ—¥ã®å…¥ã‚Š: ${sunset}</span>
                                </div>
                                <div style="margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                    <strong style="color: #4CAF50; font-size: 1.1em;">ğŸŒ¡ï¸ æ°—åœ§ãƒ»æ¹¿åº¦</strong><br>
                                    <span style="color: rgba(255,255,255,0.8);">æ°—åœ§: ${pressure} hPa / æ¹¿åº¦: ${humidity}%</span>
                                </div>
                                <div style="margin-top: 30px; padding: 20px; background: rgba(76, 175, 80, 0.1); border-radius: 10px; border: 1px solid rgba(76, 175, 80, 0.3);">
                                    <strong style="color: #4CAF50;">ğŸ’¡ æ°—è±¡ã‚¢ãƒ‰ãƒã‚¤ã‚¹:</strong><br>
                                    <span style="color: rgba(255,255,255,0.9); line-height: 1.6;">
                                        ${pressure < 1013 ? 'ä½æ°—åœ§ã®å½±éŸ¿ã§å¤©å€™ãŒå¤‰ã‚ã‚Šã‚„ã™ã„çŠ¶æ³ã§ã™ã€‚' : 'é«˜æ°—åœ§ã«è¦†ã‚ã‚Œã¦ãŠã‚Šã€æ¯”è¼ƒçš„å®‰å®šã—ãŸå¤©å€™ãŒæœŸå¾…ã§ãã¾ã™ã€‚'}
                                        ${humidity > 80 ? 'æ¹¿åº¦ãŒé«˜ã„ãŸã‚ã€é›ªãŒé™ã‚Šã‚„ã™ã„æ¡ä»¶ã§ã™ã€‚' : ''}
                                    </span>
                                </div>
                            </div>
                            <div class="data-source" style="margin-top: 30px;">
                                ğŸ“¡ ãƒ‡ãƒ¼ã‚¿æ›´æ–°æ™‚åˆ»: ${updateTime} | ãƒ‡ãƒ¼ã‚¿æä¾›: OpenWeatherMap API
                            </div>
                        </div>
                    `;
                } else {
                    throw new Error(data.message || 'ãƒ‡ãƒ¼ã‚¿å–å¾—å¤±æ•—');
                }
            } catch (error) {
                console.error('è©³ç´°æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
                container.innerHTML = '<div class="alert-box">âŒ è©³ç´°æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</div>';
            }
        }

        // ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
        function getWindDirection(deg) {
            const directions = ['åŒ—', 'åŒ—åŒ—æ±', 'åŒ—æ±', 'æ±åŒ—æ±', 'æ±', 'æ±å—æ±', 'å—æ±', 'å—å—æ±',
                              'å—', 'å—å—è¥¿', 'å—è¥¿', 'è¥¿å—è¥¿', 'è¥¿', 'è¥¿åŒ—è¥¿', 'åŒ—è¥¿', 'åŒ—åŒ—è¥¿'];
            const index = Math.round(deg / 22.5) % 16;
            return directions[index];
        }

        function getWeatherIcon(iconCode) {
            const icons = {
                '01d': 'â˜€ï¸', '01n': 'ğŸŒ™',
                '02d': 'â›…', '02n': 'â˜ï¸',
                '03d': 'â˜ï¸', '03n': 'â˜ï¸',
                '04d': 'â˜ï¸', '04n': 'â˜ï¸',
                '09d': 'ğŸŒ§ï¸', '09n': 'ğŸŒ§ï¸',
                '10d': 'ğŸŒ¦ï¸', '10n': 'ğŸŒ§ï¸',
                '11d': 'â›ˆï¸', '11n': 'â›ˆï¸',
                '13d': 'â„ï¸', '13n': 'â„ï¸',
                '50d': 'ğŸŒ«ï¸', '50n': 'ğŸŒ«ï¸'
            };
            return icons[iconCode] || 'ğŸŒ¤ï¸';
        }

        function getSnowCondition(temp, humidity) {
            if (temp < -10) {
                return { type: 'ãƒ‰ãƒ©ã‚¤ãƒ‘ã‚¦ãƒ€ãƒ¼', rating: 'â˜…â˜…â˜…â˜…â˜…' };
            } else if (temp < -5) {
                return { type: 'ãƒ‘ã‚¦ãƒ€ãƒ¼ã‚¹ãƒãƒ¼', rating: 'â˜…â˜…â˜…â˜…â˜†' };
            } else if (temp < 0) {
                return { type: 'ã‚„ã‚„æ¹¿ã£ãŸé›ª', rating: 'â˜…â˜…â˜…â˜†â˜†' };
            } else if (temp < 3) {
                return { type: 'æ¹¿é›ª', rating: 'â˜…â˜…â˜†â˜†â˜†' };
            } else {
                return { type: 'ã‚¶ãƒ©ãƒ¡é›ª', rating: 'â˜…â˜†â˜†â˜†â˜†' };
            }
        }

        // åˆæœŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        document.getElementById('currentWeather').innerHTML = `
            <div style="text-align: center; padding: 50px; color: rgba(255,255,255,0.7);">
                <div style="font-size: 5em; margin-bottom: 25px; animation: float 3s ease-in-out infinite;">ğŸ‚</div>
                <h3 style="color: #4CAF50; font-family: 'Orbitron', sans-serif; font-size: 1.8em; margin-bottom: 20px;">
                    ã‚¹ã‚­ãƒ¼å ´ã‚’é¸æŠã—ã¦ãã ã•ã„
                </h3>
                <p style="margin-top: 20px; font-size: 1.1em; line-height: 1.8;">
                    ä¸Šéƒ¨ã®æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã¾ãŸã¯ãƒ—ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ã‹ã‚‰åœ°åŸŸã‚’é¸æŠã™ã‚‹ã¨ã€<br>
                    ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®è©³ç´°ãªæ°—è±¡æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
                </p>
                <div style="margin-top: 40px; padding: 25px; background: rgba(76, 175, 80, 0.1); border: 1px solid rgba(76, 175, 80, 0.3); border-radius: 12px; max-width: 600px; margin-left: auto; margin-right: auto;">
                    <p style="color: #4CAF50; font-weight: 700; margin-bottom: 10px;">ğŸ”‘ APIã‚­ãƒ¼ã®è¨­å®šãŒå¿…è¦ã§ã™</p>
                    <p style="font-size: 0.95em; color: rgba(255,255,255,0.8); line-height: 1.6;">
                        ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã«ã¯ã€<a href="https://openweathermap.org/api" target="_blank" style="color: #4CAF50; text-decoration: none; font-weight: 700;">OpenWeatherMap</a>ã®ç„¡æ–™APIã‚­ãƒ¼ãŒå¿…è¦ã§ã™ã€‚<br>
                        å–å¾—å¾Œã€HTMLãƒ•ã‚¡ã‚¤ãƒ«å†…ã® <code style="background: rgba(0,0,0,0.3); padding: 2px 8px; border-radius: 4px;">API_KEY</code> å¤‰æ•°ã«è¨­å®šã—ã¦ãã ã•ã„ã€‚
                    </p>
                </div>
            </div>
        `;
    </script>
</body>
</html>
